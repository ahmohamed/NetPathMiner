<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extracting and ranking paths from a network — pathRanker • NetPathMiner</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extracting and ranking paths from a network — pathRanker"><meta property="og:description" content='Given a weighted igraph object, path ranking finds a set of node/edge sequences (paths) to
maximize the sum of edge weights.
pathRanker(method="prob.shortest.path") extracts the K most probable paths within
a weighted network.
pathRanker(method="pvalue") extracts a list of paths whose sum of edge weights are
significantly higher than random paths of the same length.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NetPathMiner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.43.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/NPMVignette.html">Workflow for NetPathMiner</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ahmohamed/NetPathMiner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracting and ranking paths from a network</h1>
    <small class="dont-index">Source: <a href="https://github.com/ahmohamed/NetPathMiner/blob/master/R/pathRank.R" class="external-link"><code>R/pathRank.R</code></a></small>
    <div class="hidden name"><code>pathRanker.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a weighted igraph object, path ranking finds a set of node/edge sequences (paths) to
maximize the sum of edge weights.
<code>pathRanker(method="prob.shortest.path")</code> extracts the K most probable paths within
a weighted network.
<code>pathRanker(method="pvalue")</code> extracts a list of paths whose sum of edge weights are
significantly higher than random paths of the same length.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pathRanker</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"prob.shortest.path"</span>,</span>
<span>  <span class="va">start</span>,</span>
<span>  <span class="va">end</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>A weighted igraph object. Weights must be in <code>edge.weights</code> or <code>weight</code>
edge attributes.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Which path ranking method to use.</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>A list of start vertices, given by their vertex id.</p></dd>


<dt id="arg-end">end<a class="anchor" aria-label="anchor" href="#arg-end"></a></dt>
<dd><p>A list of terminal vertices, given by their vertex id.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Whether to display the progress of the function.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Method-specific parameters. See Details section.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of paths where each path has the following items:</p>
<dl><dt>gene</dt>
<dd><p>The ordered sequence of genes visited along the path.</p></dd>

<dt>compounds</dt>
<dd><p>The ordered sequence of compounds visited along the path.</p></dd>

<dt>weights</dt>
<dd><p>The ordered sequence of the log(ECDF edge weights) along the path.</p></dd>

<dt>distance</dt>
<dd><p>The sum of the log(ECDF edge weights) along each path.  (a sum of logs is a product)</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The input here is <code>graph</code>. A weight must be assigned to each edge. Bootstrapped Pearson correlation edge weights
can be assigned to each edge by <code><a href="assignEdgeWeights.html">assignEdgeWeights</a></code>. However the specification of the edge weight is flexible
with the condition that increasing values indicate stronger relationships between vertices.</p>
<div class="section">
<h3 id="probabilistic-shortest-paths">Probabilistic Shortest Paths<a class="anchor" aria-label="anchor" href="#probabilistic-shortest-paths"></a></h3>
<p><code>pathRanker(method="prob.shortest.path")</code> finds the K most probable loopless paths given a weighted network.
Before the paths are ranked the edge weights are converted into probabilistic edge weights using the Empirical
Cumulative Distribution (ECDF) over all edge weights.  This is called ECDF edge weight. The ECDF edge weight
serves as a probabilistic rank of the most important gene-gene interactions.  The probabilistic nature of the ECDF
edge weights allow for a significance test to determine if a path contains any functional structure or is
simply a random walk.  The probability of a path is simily the product of all ECDF weights along the path.
This is computed as a sum of the logs of the ECDF edge weights.</p>
<p>The follwing arguments can be passed to <code>pathRanker(method="prob.shortest.path")</code>:</p><dl><dt><code>K</code></dt>
<dd><p>Maximum number of paths to extract. Defaults to 10.</p></dd>

<dt><code>minPathSize</code></dt>
<dd><p>The minimum number of edges for each extracted path. Defualts to 1.</p></dd>

<dt><code>normalize</code></dt>
<dd><p>Specify if you want to normalize the probabilistic edge weights (across different labels)
before extracting the paths. Defaults to TRUE.</p></dd>


</dl></div>

<div class="section">
<h3 id="p-value-method">P-value method<a class="anchor" aria-label="anchor" href="#p-value-method"></a></h3>
<p><code>pathRanker(method="pvalue")</code> is deprecated. Please use <code>prob.shortest.path</code> instead.</p>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>getPathsAsEIDs, extractPathNetwork</p>
<p>Other Path ranking methods:
<code><a href="extractPathNetwork.html">extractPathNetwork</a>()</code>,
<code><a href="getPathsAsEIDs.html">getPathsAsEIDs</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Timothy Hancock, Ichigaku Takigawa, Nicolas Wicker and Ahmed Mohamed</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co">## Prepare a weighted reaction network.</span></span></span>
<span class="r-in"><span>  <span class="co">## Conver a metabolic network to a reaction network.</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ex_sbml</span><span class="op">)</span> <span class="co"># bipartite metabolic network of Carbohydrate metabolism.</span></span></span>
<span class="r-in"><span> <span class="va">rgraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeReactionNetwork.html">makeReactionNetwork</a></span><span class="op">(</span><span class="va">ex_sbml</span>, simplify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This graph was created by an old(er) igraph version.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Call `igraph::upgrade_graph()` on it to use with the current igraph version.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For now we convert it on the fly...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Assign edge weights based on Affymetrix attributes and microarray dataset.</span></span></span>
<span class="r-in"><span> <span class="co"># Calculate Pearson's correlation.</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ex_microarray</span><span class="op">)</span>  <span class="co"># Part of ALL dataset.</span></span></span>
<span class="r-in"><span>  <span class="va">rgraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="assignEdgeWeights.html">assignEdgeWeights</a></span><span class="op">(</span>microarray <span class="op">=</span> <span class="va">ex_microarray</span>, graph <span class="op">=</span> <span class="va">rgraph</span>,</span></span>
<span class="r-in"><span>    weight.method <span class="op">=</span> <span class="st">"cor"</span>, use.attr<span class="op">=</span><span class="st">"miriam.uniprot"</span>,</span></span>
<span class="r-in"><span>    y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">ex_microarray</span><span class="op">)</span><span class="op">)</span>, bootstrap <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 genes were present in the microarray, but not represented in the network.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55 genes were couldn't be found in microarray.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Assigning edge weights for label ALL1/AF4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Assigning edge weights for label BCR/ABL </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Assigning edge weights for label E2A/PBX1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Assigning edge weights for label NEG </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Get ranked paths using probabilistic shortest paths.</span></span></span>
<span class="r-in"><span> <span class="va">ranked.p</span> <span class="op">&lt;-</span> <span class="fu">pathRanker</span><span class="op">(</span><span class="va">rgraph</span>, method<span class="op">=</span><span class="st">"prob.shortest.path"</span>,</span></span>
<span class="r-in"><span>          K<span class="op">=</span><span class="fl">20</span>, minPathSize<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracting the 20 most probable paths for ALL1/AF4</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracting the 20 most probable paths for BCR/ABL</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracting the 20 most probable paths for E2A/PBX1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracting the 20 most probable paths for NEG</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ahmed Mohamed, Tim Hancock, Tim Hancock.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

